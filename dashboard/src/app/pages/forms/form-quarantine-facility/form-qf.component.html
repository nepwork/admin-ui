<div class="row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-header>Quarantine Facility Patient Reporting</nb-card-header>
      <nb-card-body>
        <nb-accordion multi>
          <nb-accordion-item #patientDetails expanded>
            <nb-accordion-item-header>
              Patient Quarantine Details
            </nb-accordion-item-header>
            <nb-accordion-item-body>
              <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="qStartDate" class="label"
                        >Quarantine Start Date</label
                      >
                      <input
                        nbInput
                        fullWidth
                        placeholder="Select Quarantine Start Date"
                        [nbDatepicker]="qStartDatePicker"
                        id="qStartDate"
                      />
                      <nb-datepicker #qStartDatePicker></nb-datepicker>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label for="qEndDate" class="label"
                        >Quarantine End Date</label
                      >
                      <input
                        nbInput
                        fullWidth
                        placeholder="Select Quarantine End Date"
                        [nbDatepicker]="qEndDatePicker"
                        id="qEndDate"
                      />
                      <nb-datepicker #qEndDatePicker></nb-datepicker>
                    </div>
                  </div>
              </div>
            </nb-accordion-item-body>
          </nb-accordion-item>
          <nb-accordion-item #patientSymptomsAndTests expanded>
            <nb-accordion-item-header>
              Patient Symptoms & Tests
            </nb-accordion-item-header>
            <nb-accordion-item-body>
              <div *ngFor="let symptom of symptomRecords; let index">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label [for]="'symptomDate' + index" class="label"
                        >First Occurrence of Symptoms</label
                      >
                      <input
                        nbInput
                        fullWidth
                        placeholder="Select First Date of Symptoms"
                        [nbDatepicker]="symptomDatePicker"
                        [id]="'symptomDate' + index"
                      />
                      <nb-datepicker #symptomDatePicker></nb-datepicker>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="inputSymptoms" class="label"
                        >Symptoms in Last Two Weeks</label
                      >
                      <nb-select
                        [id]="'inputSymptoms' + index"
                        fullWidth
                        multiple
                        placeholder="Recent Symptoms"
                      >
                        <nb-option value="Fever">Fever</nb-option>
                        <nb-option value="Cough">Cough</nb-option>
                        <nb-option value="Shortness of Breath"
                          >Shortness of Breath</nb-option
                        >
                      </nb-select>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label for="inputOtherSymptoms" class="label"
                        >Other symptoms, if any</label
                      >
                      <input
                        type="text"
                        nbInput
                        fullWidth
                        [id]="'inputOtherSymptoms' + index"
                        placeholder="Other symptoms (if any)"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <button
                      nbButton
                      outline
                      status="primary"
                      size="small"
                      (click)="addSymptomRecord($event)"
                    >
                      <nb-icon icon="file-add-outline"></nb-icon>Add Symptoms
                    </button>
                  </div>
                </div>
              </div>

              <div *ngFor="let record of rdtRecords; let index">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label [for]="'rdtTestDate' + index" class="label"
                        >RDT Test Date</label
                      >
                      <input
                        nbInput
                        fullWidth
                        placeholder="Select RDT Test Date"
                        [nbDatepicker]="rdtDatePicker"
                        [id]="'rdtTestDate' + index"
                      />
                      <nb-datepicker #rdtDatePicker></nb-datepicker>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label [for]="'rdtTestResult' + index" class="label"
                        >RDT Test Results</label
                      >
                      <div class="col-sm-6">
                        <nb-radio-group
                          [id]="'rdtTestResult' + index"
                          class="row"
                        >
                          <nb-radio value="Negative">Negative</nb-radio>
                          <nb-radio value="Positive">Positive</nb-radio>
                          <nb-radio value="Pending">Pending</nb-radio>
                        </nb-radio-group>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <button
                      nbButton
                      outline
                      status="primary"
                      size="small"
                      (click)="addRDTRecord($event)"
                    >
                      <nb-icon icon="file-add-outline"></nb-icon>Add RDT Test
                      &nbsp; &nbsp;
                    </button>
                  </div>
                </div>
              </div>
              <div *ngFor="let record of pcrRecords; let index">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label [for]="'pcrTestDate' + index" class="label"
                        >PCR Test Date</label
                      >
                      <input
                        nbInput
                        fullWidth
                        placeholder="Select PCR Test Date"
                        [nbDatepicker]="pcrDatePicker"
                        [id]="'pcrTestDate' + index"
                      />
                      <nb-datepicker #pcrDatePicker></nb-datepicker>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label [for]="'pcrTestResult' + index" class="label"
                        >PCR Test Results</label
                      >
                      <div class="col-sm-6">
                        <nb-radio-group
                          [id]="'pcrTestResult' + index"
                          class="row"
                        >
                          <nb-radio value="Negative">Negative</nb-radio>
                          <nb-radio value="Positive">Positive</nb-radio>
                          <nb-radio value="Pending">Pending</nb-radio>
                        </nb-radio-group>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <button
                      nbButton
                      outline
                      status="primary"
                      size="small"
                      (click)="addPCRRecord($event)"
                    >
                      <nb-icon icon="file-add-outline"></nb-icon>Add PCR Test
                      &nbsp; &nbsp;
                    </button>
                  </div>
                </div>
              </div>
            </nb-accordion-item-body>
          </nb-accordion-item>
          <nb-accordion-item #patientDetails>
            <nb-accordion-item-header>
              Patient Details
            </nb-accordion-item-header>
            <nb-accordion-item-body>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label for="inputReturneeName" class="label"
                      >Patient's Name</label
                    >
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      id="inputReturneeName"
                      placeholder="Patient's Name"
                    />
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="inputLastName" class="label"
                      >Patient's {{ relationName }}'s Name</label
                    >
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      id="inputLastName"
                      placeholder="Patient's {{ relationName }}'s Name"
                    />
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="form-group">
                    <label for="relationship" class="label">Relationship</label>
                    <nb-select
                      id="relationship"
                      fullWidth
                      (selectedChange)="changeRelationship($event)"
                      selected="Father"
                    >
                      <nb-option value="Father">Father</nb-option>
                      <nb-option value="Mother">Mother</nb-option>
                      <nb-option value="Guardian">Guardian</nb-option>
                    </nb-select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label for="inputEmail" class="label">Age</label>
                    <input
                      type="number"
                      min="0"
                      nbInput
                      fullWidth
                      id="inputAge"
                      placeholder="Age"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label for="inputGender" class="label">Gender</label>
                    <div class="col-sm-6">
                      <nb-radio-group id="inputGender" class="row">
                        <nb-radio>Male</nb-radio>
                        <nb-radio>Female</nb-radio>
                        <nb-radio>Other</nb-radio>
                      </nb-radio-group>
                    </div>
                  </div>
                </div>
              </div>
            </nb-accordion-item-body>
          </nb-accordion-item>
          <nb-accordion-item #patientContactDetails>
            <nb-accordion-item-header>
              Patient Contact Details
            </nb-accordion-item-header>
            <nb-accordion-item-body>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label for="inputWebsite" class="label">Phone Number</label>
                    <input
                      type="tel"
                      nbInput
                      fullWidth
                      id="inputWebsite"
                      placeholder="Phone Number"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label for="inputRelativePhone" class="label"
                      >Close Relative's Phone Number</label
                    >
                    <input
                      type="tel"
                      nbInput
                      fullWidth
                      id="inputRelativePhone"
                      placeholder="Close Relative's Phone Number"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputDestinationProvince" class="label"
                      >Current Address</label
                    >
                    <nb-select
                      id="inputDestinationProvince"
                      fullWidth
                      placeholder="Select Province"
                      (selectedChange)="changeDestProvince($event)"
                    >
                      <nb-option
                        *ngFor="let province of provinces"
                        [value]="province"
                        >{{ province }}</nb-option
                      >
                    </nb-select>
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputDestinationDistrict" class="label"
                      >&nbsp;</label
                    >
                    <nb-select
                      id="inputDestinationDistrict"
                      fullWidth
                      placeholder="Select District"
                      [disabled]="finalDestProvince === null"
                    >
                      <nb-option
                        *ngFor="let district of districts.destinationOpts"
                        [value]="district"
                        >{{ district }}</nb-option
                      >
                    </nb-select>
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputAddressProvince" class="label"
                      >Permanent Address</label
                    >
                    <nb-select
                      id="inputAddressProvince"
                      fullWidth
                      placeholder="Select Province"
                      (selectedChange)="changeAddrProvince($event)"
                    >
                      <nb-option
                        *ngFor="let province of provinces"
                        [value]="province"
                        >{{ province }}</nb-option
                      >
                    </nb-select>
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputAddressDistrict" class="label"
                      >&nbsp;</label
                    >
                    <nb-select
                      id="inputAddressDistrict"
                      fullWidth
                      [disabled]="permanentAddrProvince === null"
                      placeholder="Select District"
                    >
                      <nb-option
                        *ngFor="let district of districts.addressOpts"
                        [value]="district"
                        >{{ district }}</nb-option
                      >
                    </nb-select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3">
                  <div class="form-group">
                    <label
                      for="inputDestinationMunicipality"
                      class="label"
                    ></label>
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      [disabled]="finalDestProvince === null"
                      id="inputDestinationMunicipality"
                      placeholder="Municipality"
                    />
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputDestinationWard" class="label"></label>
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      [disabled]="finalDestProvince === null"
                      id="inputDestinationWard"
                      placeholder="Ward"
                    />
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputAddressDistrict" class="label"></label>
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      [disabled]="permanentAddrProvince === null"
                      id="inputDestinationDistrict"
                      placeholder="District"
                    />
                  </div>
                </div>
                <div class="col-sm-3">
                  <div class="form-group">
                    <label for="inputAddressWard" class="label"></label>
                    <input
                      type="text"
                      nbInput
                      fullWidth
                      [disabled]="permanentAddrProvince === null"
                      id="inputAddressWard"
                      placeholder="Ward"
                    />
                  </div>
                </div>
              </div>
            </nb-accordion-item-body>
          </nb-accordion-item>
        </nb-accordion>
        <nb-card>
          <button type="submit" status="primary" nbButton>
            <nb-icon icon="save-outline"></nb-icon> Save Quarantine Patient Details
          </button>
        </nb-card>
      </nb-card-body>
    </nb-card>
  </div>
</div>
